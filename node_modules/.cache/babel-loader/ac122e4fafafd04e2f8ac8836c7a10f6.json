{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/home/swapnil/reactproj/pro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/swapnil/reactproj/pro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/swapnil/reactproj/pro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/swapnil/reactproj/pro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/swapnil/reactproj/pro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/swapnil/reactproj/pro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import axios from\"axios\";import React,{Component}from\"react\";import FlashMessage from'react-flash-message';import{withRouter}from\"react-router\";import AppBody from\"../../../../components/AppBody\";import appRoutes from\"../../../../routes/app\";import helper from\"../../../../utils/helper\";var user=helper.user();var UpdateBlog=/*#__PURE__*/function(_Component){_inherits(UpdateBlog,_Component);var _super=_createSuper(UpdateBlog);function UpdateBlog(props){var _this;_classCallCheck(this,UpdateBlog);_this=_super.call(this,props);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.state={categoryApi:[],languageApi:[],title:'',heading:'',description:'',category:'',language:'',blog_image:'',blog_video:'',blog_image_url:'',blog_video_url:'',loading:true,error:false,errorMessage:''};_this.blogUpdateHandler=_this.blogUpdateHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(UpdateBlog,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.defaults.headers.common['Authorization']=\"Bearer \".concat(user.access_token);axios.get('http://indonews.live/api/categories-languages',{headers:{\"Authorization\":\"Bearer \".concat(user.access_token)}}).then(function(res){_this2.setState({languageApi:res.data.Language});_this2.setState({categoryApi:res.data.Category,loading:false});}).catch(function(err){_this2.setState({loading:false});});var id=this.props.match.params.id;axios.post('http://indonews.live/api/get-blog',{headers:{\"Authorization\":\"Bearer \".concat(user.access_token)},id:id}).then(function(res){_this2.setState({category:res.data.category,language:res.data.languae,title:res.data.title,heading:res.data.heading,description:res.data.content});}).catch(function(err){_this2.setState({loading:false});});}},{key:\"blogUpdateHandler\",value:function blogUpdateHandler(){var _this3=this;this.setState({loading:true});var id=this.props.match.params.id;var _this$state=this.state,title=_this$state.title,heading=_this$state.heading,description=_this$state.description,category=_this$state.category,language=_this$state.language;axios.post('http://indonews.live/api/update-blog',{headers:{\"Authorization\":\"Bearer \".concat(user.access_token)},id:id,title:title,category_id:category,language_id:language,heading:heading,contents:description}).then(function(res){_this3.setState({loading:false,error:true,errorMessage:'Blog Updated !'});_this3.props.history.push(appRoutes.app.profile.my_profile);}).catch(function(err){_this3.setState({loading:false,error:true,errorMessage:'unable to update !'});console.log(err);});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsx(AppBody,{loader:this.state.loading,content:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-8\",children:this.state.error?/*#__PURE__*/_jsx(FlashMessage,{duration:5090,persistOnHover:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning alert-dismissible fade show\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"strong\",{children:this.state.errorMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]})}):null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 card mt-1 mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-white text-center\",children:/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Add Blog\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",encType:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"language\",children:\"Select language\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"language\",id:\"language\",className:\"form-control\",onChange:function onChange(e){_this4.handleChange(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:null,children:\"Select --\"}),this.state.languageApi.map(function(lang){return/*#__PURE__*/_jsx(\"option\",{value:lang.id,children:lang.title});})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Select Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",id:\"category\",className:\"form-control\",onChange:function onChange(e){_this4.handleChange(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:null,children:\"Select --\"}),this.state.categoryApi.map(function(cat){return/*#__PURE__*/_jsx(\"option\",{value:cat.id,children:cat.title});})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",className:\"form-control\",value:this.state.title,onChange:function onChange(e){_this4.handleChange(e);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",id:\"description\",cols:\"30\",rows:\"5\",className:\"form-control\",style:{resize:'none'},onChange:function onChange(e){_this4.handleChange(e);},children:this.state.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"blog_image\",id:\"\",className:\"form-control\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\",alt:\"\",id:\"image\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer bg-white\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info form-control\",type:\"button\",onClick:this.blogUpdateHandler,children:\"Update\"})})]})})]})]})]})})});}}]);return UpdateBlog;}(Component);export default withRouter(UpdateBlog);","map":{"version":3,"sources":["/home/swapnil/reactproj/pro/src/container/app/blog/pages/UpdateBlog.js"],"names":["axios","React","Component","FlashMessage","withRouter","AppBody","appRoutes","helper","user","UpdateBlog","props","handleChange","e","setState","target","name","value","state","categoryApi","languageApi","title","heading","description","category","language","blog_image","blog_video","blog_image_url","blog_video_url","loading","error","errorMessage","blogUpdateHandler","bind","defaults","headers","common","access_token","get","then","res","data","Language","Category","catch","err","id","match","params","post","languae","content","category_id","language_id","contents","history","push","app","profile","my_profile","console","log","map","lang","cat","resize"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport FlashMessage from 'react-flash-message';\nimport { withRouter } from \"react-router\";\nimport AppBody from \"../../../../components/AppBody\";\nimport appRoutes from \"../../../../routes/app\";\nimport helper from \"../../../../utils/helper\";\n\n\nconst user = helper.user();\n\nclass UpdateBlog extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            categoryApi: [],\n            languageApi: [],\n            title: '',\n            heading: '',\n            description: '',\n            category: '',\n            language: '',\n            blog_image: '',\n            blog_video: '',\n            blog_image_url: '',\n            blog_video_url: '',\n            loading: true,\n            error: false,\n            errorMessage: ''\n\n        }\n        this.blogUpdateHandler = this.blogUpdateHandler.bind(this);\n    }\n\n    componentDidMount() {\n\n        axios.defaults.headers.common['Authorization'] = `Bearer ${user.access_token}`\n        axios.get('http://indonews.live/api/categories-languages', {\n            headers: { \"Authorization\": `Bearer ${user.access_token}` }\n        }).then(res => {\n            this.setState({ languageApi: res.data.Language })\n            this.setState({ categoryApi: res.data.Category, loading: false })\n\n        }).catch(err => {\n            this.setState({ loading: false })\n        });\n\n        const { match: { params: { id } } } = this.props;\n        axios.post('http://indonews.live/api/get-blog', {\n            headers: { \"Authorization\": `Bearer ${user.access_token}` },\n            id: id,\n        }).then(res => {\n            this.setState({\n                category: res.data.category,\n                language: res.data.languae,\n                title: res.data.title,\n                heading: res.data.heading,\n                description: res.data.content,\n            })\n\n        }).catch(err => {\n            this.setState({ loading: false })\n        });\n    }\n\n    handleChange = (e) => { this.setState({ [e.target.name]: e.target.value }) }\n\n    blogUpdateHandler() {\n\n        this.setState({ loading: true })\n        const { match: { params: { id } } } = this.props;\n        const { title, heading, description, category, language } = this.state;\n\n        axios.post('http://indonews.live/api/update-blog', {\n            headers: { \"Authorization\": `Bearer ${user.access_token}` },\n            id: id,\n            title: title,\n            category_id: category,\n            language_id: language,\n            heading: heading,\n            contents: description\n\n        }).then(res => {\n            this.setState({ loading: false,error:true,errorMessage:'Blog Updated !' })\n            this.props.history.push(appRoutes.app.profile.my_profile);\n\n        }).catch(err => {\n            this.setState({ loading: false,error:true,errorMessage:'unable to update !' })\n            console.log(err)\n        })\n    }\n    render() {\n\n        return (\n            <AppBody\n                loader={this.state.loading}\n                content={\n                    <>\n                        <div className=\"container mt-4\">\n                            <div className=\"row\">\n                                <div className=\"col-2\"></div>\n                                <div className=\"col-8\">\n                                    {\n                                        this.state.error ?\n                                            <FlashMessage duration={5090} persistOnHover={true}>\n                                                <div className=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\n                                                    <strong>{this.state.errorMessage}</strong>\n                                                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                                                        <span aria-hidden=\"true\">&times;</span>\n                                                    </button>\n                                                </div>\n                                            </FlashMessage>\n                                            :\n                                            null\n                                    }\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-md-2\"></div>\n                                <div className=\"col-md-8 card mt-1 mb-5\">\n                                    <div className=\"card-header bg-white text-center\">\n                                        <h2><strong>Add Blog</strong></h2>\n                                    </div>\n                                    <div className=\"card-body\">\n                                        <form action=\"\" encType=\"\">\n                                            <div className=\"row\">\n                                                <div className=\"col\">\n                                                    <div className=\"form-group\">\n                                                        <label htmlFor=\"language\">Select language</label>\n                                                        <select name=\"language\" id=\"language\" className=\"form-control\" onChange={e => { this.handleChange(e) }}>\n                                                            <option value={null}>Select --</option>\n                                                            {this.state.languageApi.map(lang => {\n                                                                return <option value={lang.id} >{lang.title}</option>\n                                                            })}\n                                                        </select>\n                                                    </div>\n                                                </div>\n                                                <div className=\"col\">\n                                                    <div className=\"form-group\">\n                                                        <label htmlFor=\"category\">Select Category</label>\n                                                        <select name=\"category\" id=\"category\" className=\"form-control\" onChange={e => { this.handleChange(e) }}>\n                                                            <option value={null}>Select --</option>\n                                                            {this.state.categoryApi.map(cat => {\n                                                                return <option value={cat.id}>{cat.title}</option>\n                                                            })}\n                                                        </select>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div className=\"form-group\">\n                                                <label htmlFor=\"title\">Title</label>\n                                                <input type=\"text\" id=\"title\" name=\"title\" className=\"form-control\" value={this.state.title} onChange={e => { this.handleChange(e) }} />\n                                            </div>\n                                            <div className=\"form-group\">\n                                                <label htmlFor=\"description\">Description</label>\n                                                <textarea name=\"description\" id=\"description\" cols=\"30\" rows=\"5\" className=\"form-control\" style={{ resize: 'none' }} onChange={e => { this.handleChange(e) }}>\n                                                    {this.state.description}\n                                                </textarea>\n                                            </div>\n\n                                            <div className=\"row\">\n                                                <div className=\"form-group\">\n                                                    <input type=\"file\" name=\"blog_image\" id=\"\" className=\"form-control\" />\n                                                </div>\n                                            </div>\n                                            <div className=\"row\">\n                                                <div className=\"col-12\">\n                                                    <img src=\"\" alt=\"\" id=\"image\" />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"card-footer bg-white\">\n                                                <button className=\"btn btn-info form-control\" type=\"button\" onClick={this.blogUpdateHandler}>Update</button>\n                                            </div>\n                                        </form>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </>\n                }\n\n            />\n        )\n    }\n}\n\nexport default withRouter(UpdateBlog);"]},"metadata":{},"sourceType":"module"}