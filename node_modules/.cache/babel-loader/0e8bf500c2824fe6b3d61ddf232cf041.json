{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/swapnil/reactproj/pro/src/container/auth/page/LoginPage.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport AppBody from \"../../../components/AppBody\";\nimport axios from \"axios\";\nimport apiRoutes from \"../../../routes/api\";\nimport helper from \"../../../utils/helper\";\nimport { apiUtils } from \"../../../utils/api\";\nimport appRoutes from \"../../../routes/app\";\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.handleSubmit = e => {\n      this.setState({\n        error: []\n      });\n      const {\n        email,\n        password\n      } = this.state;\n      e.preventDefault();\n      axios.post(\"http://indonews.live/api/login\", {\n        email: email,\n        password: password\n      }).then(res => {\n        console.log(res);\n        helper.storeLogin(res.data);\n        apiUtils.setHeaderAuthToken(res.data.access_token);\n        this.props.history.push(appRoutes.base);\n      }).catch(err => {\n        if (err) {\n          let er = err.response;\n\n          if (er && er.status === 422) {\n            this.setState({\n              error: er.data\n            });\n          }\n\n          if (er && er.status === 401) {\n            this.setState({\n              err: er.data\n            });\n          }\n        }\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      loading: false,\n      error: [],\n      err: {}\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  render() {\n    const {\n      email,\n      error,\n      err,\n      password\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(AppBody, {\n      loader: this.state.loading,\n      content: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container \",\n        style: {\n          marginTop: \"70px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card p-5\",\n              style: {\n                borderRadius: \"50px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-center\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"email\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  id: \"email\",\n                  placeholder: \"\",\n                  name: \"email\",\n                  value: email,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"val-err\",\n                  children: error && error.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"val-err\",\n                  children: err && err.error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"password\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  id: \"password\",\n                  name: \"password\",\n                  value: password,\n                  onChange: this.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"val-err\",\n                  children: error && error.password\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-info form-control\",\n                  type: \"button\",\n                  onClick: this.handleSubmit,\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(LoginPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/swapnil/reactproj/pro/src/container/auth/page/LoginPage.js"],"names":["React","Component","withRouter","AppBody","axios","apiRoutes","helper","apiUtils","appRoutes","LoginPage","constructor","props","handleChange","e","setState","target","name","value","handleSubmit","error","email","password","state","preventDefault","post","then","res","console","log","storeLogin","data","setHeaderAuthToken","access_token","history","push","base","catch","err","er","response","status","loading","bind","render","marginTop","borderRadius"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport AppBody from \"../../../components/AppBody\";\r\nimport axios from \"axios\";\r\nimport apiRoutes from \"../../../routes/api\";\r\nimport helper from \"../../../utils/helper\";\r\nimport { apiUtils } from \"../../../utils/api\";\r\nimport appRoutes from \"../../../routes/app\";\r\n\r\nclass LoginPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      error: [],\r\n      err:{},\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  \r\n  handleChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  handleSubmit = (e) => {\r\n    this.setState({error:[]});  \r\n    const { email, password } = this.state;\r\n    e.preventDefault();\r\n    axios\r\n      .post(\"http://indonews.live/api/login\", {\r\n        email: email,\r\n        password: password,\r\n      })\r\n      .then((res) => {\r\n        console.log(res);        \r\n        helper.storeLogin(res.data);\r\n        apiUtils.setHeaderAuthToken(res.data.access_token);\r\n        this.props.history.push(appRoutes.base);\r\n      })\r\n      .catch((err) => {       \r\n        if(err){\r\n        let er = err.response;        \r\n        if (er&&er.status===422) {\r\n          this.setState({ error: er.data });\r\n        }     \r\n        if (er&&er.status===401) {\r\n          this.setState({ err: er.data });\r\n        }   \r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { email, error, err,password } = this.state;           \r\n    return (\r\n      <AppBody\r\n        loader={this.state.loading}\r\n        content={\r\n          <div className=\"container \" style={{ marginTop: \"70px\" }}>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-4\"></div>\r\n              <div className=\"col-md-5\">\r\n                <div className=\"card p-5\" style={{ borderRadius: \"50px\" }}>\r\n                  <strong>\r\n                    <h2 className=\"text-center\">Login</h2>\r\n                  </strong>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"email\"\r\n                      placeholder=\"\"\r\n                      name=\"email\"\r\n                      value={email}\r\n                      onChange={this.handleChange}\r\n                    />\r\n                    <span className=\"val-err\">{error && error.email}</span>\r\n                    <span className=\"val-err\">{err && err.error}</span>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      id=\"password\"\r\n                      name=\"password\"\r\n                      value={password}\r\n                      onChange={this.handleChange}\r\n                    />\r\n                    <span className=\"val-err\">{error && error.password}</span>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <button\r\n                      className=\"btn btn-info form-control\"\r\n                      type=\"button\"\r\n                      onClick={this.handleSubmit}\r\n                    >\r\n                      Login\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default withRouter(LoginPage);\r\n"]},"metadata":{},"sourceType":"module"}