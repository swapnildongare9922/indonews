{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/swapnil/reactproj/pro/src/container/app/preferences/pages/UserPreferencePage.js\";\nimport React, { Component } from 'react';\nimport helper from '../../../../utils/helper';\nimport axios from \"axios\";\nimport { withRouter } from 'react-router';\nimport AppBody from '../../../../components/AppBody';\nconst user = helper.user();\n\nclass UserPreferencePage extends Component {\n  constructor(props) {\n    super();\n\n    this.handleLangugeClick = index => {\n      const {\n        languages,\n        langId\n      } = this.state;\n      let result = [...languages];\n\n      if (result[index].is_select === false) {\n        this.setState(prevState => ({\n          langId: [...prevState.langId, result[index].id]\n        }));\n      } else {\n        let newId = langId.filter(x => x !== result[index].id);\n        this.setState({\n          langId: newId\n        });\n      }\n\n      result[index] = {\n        id: result[index].id,\n        title: result[index].title,\n        is_select: result[index].is_select === true ? false : true\n      };\n      this.setState({\n        languages: result\n      });\n    };\n\n    this.handleCategoryClick = index => {\n      const {\n        categories,\n        catId\n      } = this.state;\n      let result = [...categories];\n\n      if (result[index].is_select === false) {\n        this.setState(prevState => ({\n          catId: [...prevState.catId, result[index].id]\n        }));\n      } else {\n        let newId = catId.filter(x => x !== result[index].id);\n        this.setState({\n          catId: newId\n        });\n      }\n\n      result[index] = {\n        id: result[index].id,\n        title: result[index].title,\n        is_select: result[index].is_select === true ? false : true\n      };\n      this.setState({\n        categories: result\n      });\n    };\n\n    this.handleSubmit = () => {\n      this.setState({\n        loading: true\n      });\n      const {\n        langId,\n        catId\n      } = this.state;\n      axios.post('http://indonews.live/api/update-preferences', {\n        headers: {\n          \"Authorization\": `Bearer ${user.access_token}`\n        },\n        language_id: langId,\n        category_id: catId\n      }).then(res => {\n        if (res) {\n          console.log(res.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      }).catch(err => {\n        console.log(err);\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.state = {\n      languages: [],\n      categories: [],\n      langId: [],\n      catId: [],\n      loading: false\n    };\n    this.handleLangugeClick = this.handleLangugeClick.bind(this);\n    this.handleCategoryClick = this.handleCategoryClick.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    axios.get('http://indonews.live/api/categories-languages', {\n      headers: {\n        \"Authorization\": `Bearer ${user.access_token}`\n      }\n    }).then(res => {\n      const language = res.data.Language;\n      const categories = res.data.Category;\n      this.setState({\n        languages: res.data.Language,\n        categories: res.data.Category\n      });\n      language.filter(a => a.is_select === true ? this.setState(prevState => ({\n        langId: [...prevState.langId, a.id]\n      })) : '');\n      categories.filter(a => a.is_select === true ? this.setState(prevState => ({\n        catId: [...prevState.catId, a.id]\n      })) : '');\n      this.setState({\n        loading: false\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    const {\n      languages,\n      categories\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(AppBody, {\n      loader: this.state.loading,\n      content: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"languge\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Select Prefered Language.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row text-fluid\",\n                    children: languages && languages.map((li, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-2\",\n                      onClick: () => this.handleLangugeClick(index),\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: li.is_select === true ? 'card-title pre-color' : 'black-color card-title',\n                        style: {\n                          minWidth: '140px',\n                          mimHeight: \"60px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"lag-setup-card\",\n                          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                            children: li.title\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 116,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 115,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 53\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 49\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Select Prefered Category.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row text-fluid\",\n                    children: categories && categories.map((li, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-3\",\n                      onClick: () => this.handleCategoryClick(index),\n                      style: {\n                        width: \"auto\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: li.is_select === true ? 'card-title pre-color' : 'black-color card-title',\n                        style: {\n                          minWidth: '160px',\n                          minHeight: \"60px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-body  lag-setup-card\",\n                          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                            children: li.title\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 142,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 141,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 53\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 49\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-info form-control\",\n                  type: \"button\",\n                  onClick: this.handleSubmit,\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(UserPreferencePage);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/swapnil/reactproj/pro/src/container/app/preferences/pages/UserPreferencePage.js"],"names":["React","Component","helper","axios","withRouter","AppBody","user","UserPreferencePage","constructor","props","handleLangugeClick","index","languages","langId","state","result","is_select","setState","prevState","id","newId","filter","x","title","handleCategoryClick","categories","catId","handleSubmit","loading","post","headers","access_token","language_id","category_id","then","res","console","log","data","catch","err","bind","componentDidMount","get","language","Language","Category","a","render","map","li","minWidth","mimHeight","width","minHeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport helper from '../../../../utils/helper';\r\nimport axios from \"axios\";\r\nimport { withRouter } from 'react-router';\r\nimport AppBody from '../../../../components/AppBody';\r\nconst user = helper.user();\r\n\r\nclass UserPreferencePage extends Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            languages: [],\r\n            categories: [],\r\n            langId: [],\r\n            catId: [],\r\n            loading:false\r\n        }\r\n        this.handleLangugeClick = this.handleLangugeClick.bind(this);\r\n        this.handleCategoryClick = this.handleCategoryClick.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        this.setState({loading:true})\r\n        axios.get('http://indonews.live/api/categories-languages', {\r\n            headers: { \"Authorization\": `Bearer ${user.access_token}` }\r\n        }).then(res => {\r\n            const language = res.data.Language;\r\n            const categories = res.data.Category;\r\n            this.setState({ languages: res.data.Language, categories: res.data.Category });\r\n            language.filter(a => a.is_select === true ? this.setState(prevState => ({ langId: [...prevState.langId, a.id] })) : '');\r\n            categories.filter(a => a.is_select === true ? this.setState(prevState => ({ catId: [...prevState.catId, a.id] })) : '');\r\n            this.setState({loading:false})\r\n        }).catch(err => {\r\n            console.log(err)\r\n            this.setState({loading:false})\r\n        })\r\n    }\r\n\r\n    handleLangugeClick = (index) => {\r\n        const { languages, langId } = this.state\r\n        let result = [...languages];\r\n        if (result[index].is_select === false) {\r\n            this.setState(prevState => ({\r\n                langId: [...prevState.langId, result[index].id]\r\n            }))\r\n        } else {\r\n            let newId = langId.filter(x => x !== result[index].id);\r\n            this.setState({ langId: newId });\r\n        }\r\n        result[index] = {\r\n            id: result[index].id,\r\n            title: result[index].title,\r\n            is_select: result[index].is_select === true ? false : true,\r\n        }\r\n        this.setState({ languages: result });\r\n    };\r\n\r\n    handleCategoryClick = (index) => {\r\n        const { categories, catId } = this.state\r\n        let result = [...categories];\r\n        if (result[index].is_select === false) {\r\n            this.setState(prevState => ({\r\n                catId: [...prevState.catId, result[index].id]\r\n            }))\r\n        } else {\r\n            let newId = catId.filter(x => x !== result[index].id);\r\n            this.setState({ catId: newId });\r\n        }\r\n        result[index] = {\r\n            id: result[index].id,\r\n            title: result[index].title,\r\n            is_select: result[index].is_select === true ? false : true,\r\n        }\r\n        this.setState({ categories: result });\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        this.setState({loading:true})\r\n        const { langId, catId } = this.state\r\n        axios.post('http://indonews.live/api/update-preferences', {\r\n            headers: { \"Authorization\": `Bearer ${user.access_token}` },\r\n            language_id: langId,\r\n            category_id: catId\r\n        }).then(res => {\r\n            if (res) {\r\n                console.log(res.data);\r\n            }\r\n            this.setState({loading:false})\r\n        }).catch(err => {\r\n            console.log(err)\r\n            this.setState({loading:false})\r\n        })\r\n    }\r\n    render() {\r\n        const { languages, categories } = this.state;\r\n        return (\r\n            <AppBody \r\n                loader={this.state.loading}\r\n            content={\r\n                <>\r\n                    <div className=\"languge\">\r\n                        <div className=\"container mt-5\">\r\n                            <div className=\"row\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-header\">\r\n                                        <h2>Select Prefered Language.</h2>\r\n                                    </div>\r\n                                    <div className=\"card-body\">\r\n                                        <div className=\"row text-fluid\">\r\n                                            {languages && languages.map((li, index) =>\r\n                                                <div className=\"col-2\" key={index}\r\n                                                    onClick={() => this.handleLangugeClick(index)}\r\n                                                >\r\n                                                    <div className={li.is_select === true ? 'card-title pre-color' : 'black-color card-title'} style={{ minWidth: '140px', mimHeight: \"60px\" }}>\r\n                                                        <div className=\"lag-setup-card\">\r\n                                                            <h5  >{li.title}</h5>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"category\">\r\n                        <div className=\"container mt-5\">\r\n                            <div className=\"row\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-header\">\r\n                                        <h2>Select Prefered Category.</h2>\r\n                                    </div>\r\n                                    <div className=\"card-body\">\r\n                                        <div className=\"row text-fluid\">\r\n                                            {categories && categories.map((li, index) =>\r\n                                                <div className=\"col-3\" key={index}\r\n                                                    onClick={() => this.handleCategoryClick(index)}\r\n                                                    style={{ width: \"auto\" }}>\r\n                                                    <div className={li.is_select === true ? 'card-title pre-color' : 'black-color card-title'} style={{ minWidth: '160px', minHeight: \"60px\" }}>\r\n                                                        <div className=\"card-body  lag-setup-card\">\r\n                                                            <h5>{li.title}</h5>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3\"></div>\r\n                            <div className=\"col-6\">\r\n                                <div className=\"form-group\">\r\n                                    <button\r\n                                        className=\"btn btn-info form-control\"\r\n                                        type=\"button\"\r\n                                        onClick={this.handleSubmit}\r\n                                    >\r\n                                        Submit\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            } />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(UserPreferencePage);"]},"metadata":{},"sourceType":"module"}