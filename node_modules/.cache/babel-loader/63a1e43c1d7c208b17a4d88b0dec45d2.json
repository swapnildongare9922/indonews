{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/swapnil/reactproj/pro/src/container/app/profile/pages/UserUpdateProfile.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport AppBody from '../../../../components/AppBody';\nimport helper from '../../../../utils/helper';\nimport FlashMessage from 'react-flash-message';\nconst user = helper.user();\n\nclass UserUpdateProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateProfileHandler = async e => {\n      const {\n        name,\n        phone,\n        email\n      } = this.state;\n      this.setState({\n        loading: true\n      });\n\n      try {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${user.access_token}`;\n        axios.post('http://indonews.live/api/update-profile', {\n          headers: {\n            \"Authorization\": `Bearer ${user.access_token}`\n          },\n          name: name,\n          email: email,\n          mobile_no: phone\n        }).then(res => {\n          this.setState({\n            loading: false,\n            error: true,\n            errorMessage: 'Profile updated !'\n          });\n          console.log(res);\n        }).catch(err => {\n          this.setState({\n            loading: false\n          });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.updateProfilePicture = e => {\n      const {\n        image\n      } = this.state;\n      this.setState({\n        loading: true\n      });\n\n      try {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${user.access_token}`;\n        axios.post('http://indonews.live/api/update-profile', {\n          headers: {\n            \"Authorization\": `Bearer ${user.access_token}`\n          },\n          name: name,\n          email: email,\n          mobile_no: phone\n        }).then(res => {\n          this.setState({\n            loading: false,\n            error: true,\n            errorMessage: 'Profile updated !'\n          });\n          console.log(res);\n        }).catch(err => {\n          this.setState({\n            loading: false\n          });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.state = {\n      image: '',\n      name: '',\n      email: '',\n      phone: '',\n      userDetails: [],\n      loading: false,\n      error: false,\n      errorMessage: ''\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    axios.get('http://indonews.live/api/profile', {\n      headers: {\n        \"Authorization\": `Bearer ${user.access_token}`\n      }\n    }).then(res => {\n      this.setState({\n        name: res.data.name,\n        email: res.data.email,\n        phone: res.data.mobile_no,\n        image: res.data.profile_pic,\n        loading: false\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  inputChangeHandler(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    const {\n      name,\n      phone,\n      email,\n      image\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(AppBody, {\n      loader: this.state.loading,\n      content: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: this.state.error ? /*#__PURE__*/_jsxDEV(FlashMessage, {\n                duration: 5090,\n                persistOnHover: true,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alert alert-warning alert-dismissible fade show\",\n                  role: \"alert\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: this.state.errorMessage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"close\",\n                    \"data-dismiss\": \"alert\",\n                    \"aria-label\": \"Close\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      \"aria-hidden\": \"true\",\n                      children: \"\\xD7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 45\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card mt-5 mb-5 p-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"img\",\n                    src: image,\n                    style: {\n                      backgroundColor: 'white',\n                      border: '1px solid black',\n                      borderRadius: '100px',\n                      height: '200px',\n                      width: '200px',\n                      cursor: 'pointer'\n                    },\n                    onClick: this.imageClickHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    name: \"image\",\n                    id: \"updateImage\",\n                    onChange: e => {\n                      this.inputChangeHandler(e);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"name\",\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    placeholder: \"Name\",\n                    name: \"name\",\n                    id: \"name\",\n                    value: name,\n                    onChange: e => {\n                      this.inputChangeHandler(e);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"email\",\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    name: \"email\",\n                    placeholder: \"Email\",\n                    id: \"email\",\n                    value: email,\n                    onChange: e => {\n                      this.inputChangeHandler(e);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"phone\",\n                    children: \"Mobile No.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    id: \"phone\",\n                    name: \"phone\",\n                    placeholder: \"Phone\",\n                    value: phone,\n                    onChange: e => {\n                      this.inputChangeHandler(e);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"form-control btn btn-warning\",\n                    onClick: this.updateProfileHandler,\n                    children: \"Update\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default UserUpdateProfile;","map":{"version":3,"sources":["/home/swapnil/reactproj/pro/src/container/app/profile/pages/UserUpdateProfile.js"],"names":["axios","React","Component","AppBody","helper","FlashMessage","user","UserUpdateProfile","constructor","props","updateProfileHandler","e","name","phone","email","state","setState","loading","defaults","headers","common","access_token","post","mobile_no","then","res","error","errorMessage","console","log","catch","err","updateProfilePicture","image","userDetails","componentDidMount","get","data","profile_pic","inputChangeHandler","target","value","render","backgroundColor","border","borderRadius","height","width","cursor","imageClickHandler"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\nimport AppBody from '../../../../components/AppBody';\nimport helper from '../../../../utils/helper';\nimport FlashMessage from 'react-flash-message';\nconst user = helper.user();\nclass UserUpdateProfile extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            image: '',\n            name: '',\n            email: '',\n            phone: '',\n            userDetails: [],\n            loading: false,\n            error: false,\n            errorMessage: ''\n        }\n    }\n    componentDidMount() {\n        this.setState({ loading: true });\n        axios.get('http://indonews.live/api/profile', {\n            headers: { \"Authorization\": `Bearer ${user.access_token}` }\n        }).then(res => {\n            this.setState({ name: res.data.name, email: res.data.email, phone: res.data.mobile_no, image: res.data.profile_pic, loading: false });\n        }).catch(err => {\n            console.log(err);\n            this.setState({ loading: false });\n        })\n    }\n\n    inputChangeHandler(e) { this.setState({ [e.target.name]: e.target.value }) }\n\n    updateProfileHandler = async (e) => {\n        const { name, phone, email } = this.state;\n        this.setState({ loading: true })\n        try {\n            axios.defaults.headers.common['Authorization'] = `Bearer ${user.access_token}`\n            axios.post('http://indonews.live/api/update-profile', {\n                headers: { \"Authorization\": `Bearer ${user.access_token}` },\n                name: name,\n                email: email,\n                mobile_no: phone,\n            }).then(res => {\n                this.setState({ loading: false, error: true, errorMessage: 'Profile updated !' })\n                console.log(res)\n            }).catch(err => {\n                this.setState({ loading: false })\n            })\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    updateProfilePicture = e => {\n        const { image } = this.state;\n        this.setState({ loading: true })\n        try {\n            axios.defaults.headers.common['Authorization'] = `Bearer ${user.access_token}`\n            axios.post('http://indonews.live/api/update-profile', {\n                headers: { \"Authorization\": `Bearer ${user.access_token}` },\n                name: name,\n                email: email,\n                mobile_no: phone,\n            }).then(res => {\n                this.setState({ loading: false, error: true, errorMessage: 'Profile updated !' })\n                console.log(res)\n            }).catch(err => {\n                this.setState({ loading: false })\n            })\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    render() {\n        const { name, phone, email, image } = this.state;\n        return (\n            <AppBody\n                loader={this.state.loading}\n                content={\n                    <>\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-3\"></div>\n                                <div className=\"col-6\">\n                                    {\n                                        this.state.error ?\n                                            <FlashMessage duration={5090} persistOnHover={true}>\n                                                <div className=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\n                                                    <strong>{this.state.errorMessage}</strong>\n                                                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                                                        <span aria-hidden=\"true\">&times;</span>\n                                                    </button>\n                                                </div>\n                                            </FlashMessage>\n                                            :\n                                            null\n                                    }\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-md-3\"></div>\n                                <div className=\"col-md-6\">\n                                    <div className=\"card mt-5 mb-5 p-5\">\n                                        <div className=\"form-group text-center\">\n                                            <img className=\"img\" src={image} style={{ backgroundColor: 'white', border: '1px solid black', borderRadius: '100px', height: '200px', width: '200px', cursor: 'pointer' }} onClick={this.imageClickHandler} />\n                                            <input type=\"file\" name=\"image\" id=\"updateImage\" onChange={e => { this.inputChangeHandler(e) }} />\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <label htmlFor=\"name\">Name</label>\n                                            <input type=\"text\" className=\"form-control\" placeholder=\"Name\" name=\"name\" id=\"name\" value={name} onChange={e => { this.inputChangeHandler(e) }} />\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <label htmlFor=\"email\">Email</label>\n                                            <input type=\"text\" className=\"form-control\" name=\"email\" placeholder=\"Email\" id=\"email\" value={email} onChange={e => { this.inputChangeHandler(e) }} />\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <label htmlFor=\"phone\">Mobile No.</label>\n                                            <input type=\"text\" className=\"form-control\" id=\"phone\" name=\"phone\" placeholder=\"Phone\" value={phone} onChange={e => { this.inputChangeHandler(e) }} />\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <button className=\"form-control btn btn-warning\" onClick={this.updateProfileHandler}>Update</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </>\n                }\n\n            />\n        )\n    }\n}\n\nexport default UserUpdateProfile;"]},"metadata":{},"sourceType":"module"}