{"ast":null,"code":"import helper from \"./helper\";\nimport axios from \"axios\";\n\nfunction init(user) {\n  if (!user) {\n    user = helper.user();\n  }\n\n  if (user) {\n    apiUtils.setHeaderAuthToken(user.token);\n  }\n}\n\naxios.interceptors.response.use(response => {\n  return response;\n}, error => {\n  if (error.response.status === 401) {\n    console.log(\"call the functi\"); //  helper.logout();\n  }\n\n  return Promise.reject(error);\n});\n\nfunction instance() {\n  return axios;\n}\n\nexport const apiUtils = {\n  setHeaderAuthToken: token => axios.defaults.headers.common['Authorization'] = `Bearer ${token}`,\n  removeHeaderAuthToken: () => axios.defaults.headers.common[\"Authorization\"] = undefined\n};\nconst api = {\n  instance,\n  init\n};\nexport default api;","map":{"version":3,"sources":["/home/swapnil/reactproj/pro/src/utils/api.js"],"names":["helper","axios","init","user","apiUtils","setHeaderAuthToken","token","interceptors","response","use","error","status","console","log","Promise","reject","instance","defaults","headers","common","removeHeaderAuthToken","undefined","api"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,IAAT,CAAcC,IAAd,EAAoB;AAChB,MAAI,CAACA,IAAL,EAAW;AACPA,IAAAA,IAAI,GAAGH,MAAM,CAACG,IAAP,EAAP;AACH;;AACD,MAAIA,IAAJ,EAAU;AACNC,IAAAA,QAAQ,CAACC,kBAAT,CAA4BF,IAAI,CAACG,KAAjC;AACH;AACJ;;AAEDL,KAAK,CAACM,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACID,QAAQ,IAAI;AACR,SAAOA,QAAP;AACH,CAHL,EAIKE,KAAD,IAAW;AACP,MAAIA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAD8B,CAEjC;AACD;;AACD,SAAOC,OAAO,CAACC,MAAR,CAAeL,KAAf,CAAP;AACH,CAVL;;AAaA,SAASM,QAAT,GAAoB;AAChB,SAAOf,KAAP;AACH;;AAED,OAAO,MAAMG,QAAQ,GAAG;AACpBC,EAAAA,kBAAkB,EAAEC,KAAK,IAAIL,KAAK,CAACgB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAkD,UAASb,KAAM,EAD1E;AAEpBc,EAAAA,qBAAqB,EAAE,MAAMnB,KAAK,CAACgB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDE;AAF1D,CAAjB;AAKP,MAAMC,GAAG,GAAG;AACRN,EAAAA,QADQ;AAERd,EAAAA;AAFQ,CAAZ;AAIA,eAAeoB,GAAf","sourcesContent":["import helper from \"./helper\";\r\nimport axios from \"axios\";\r\n\r\nfunction init(user) {\r\n    if (!user) {\r\n        user = helper.user();\r\n    }\r\n    if (user) {\r\n        apiUtils.setHeaderAuthToken(user.token);\r\n    }\r\n}\r\n\r\naxios.interceptors.response.use(\r\n    response => {\r\n        return response;\r\n    },\r\n    (error) => {\r\n        if (error.response.status === 401) {\r\n             console.log(\"call the functi\");\r\n          //  helper.logout();\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nfunction instance() {\r\n    return axios;\r\n}\r\n\r\nexport const apiUtils = {\r\n    setHeaderAuthToken: token => axios.defaults.headers.common['Authorization'] = `Bearer ${token}`,\r\n    removeHeaderAuthToken: () => axios.defaults.headers.common[\"Authorization\"] = undefined\r\n};\r\n\r\nconst api = {\r\n    instance,\r\n    init\r\n};\r\nexport default api;\r\n"]},"metadata":{},"sourceType":"module"}