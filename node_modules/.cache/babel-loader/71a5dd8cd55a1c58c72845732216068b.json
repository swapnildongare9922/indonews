{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/swapnil/reactproj/pro/src/container/app/blog/component/AddBlog.js\";\nimport React, { Component } from 'react';\nimport AppBody from '../../../../components/AppBody';\nimport Loader from 'react-loader-spinner';\nimport FlashMessage from 'react-flash-message';\nimport helper from '../../../../utils/helper';\nimport axios from 'axios';\nconst user = helper.user();\n\nclass AddBlog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.imageChangeHandler = async e => {\n      this.setState({\n        [e.target.name]: e.target.files[0]\n      });\n      console.log(this.state.blog_image);\n      axios.defaults.headers.common['Authorization'] = `Bearer ${user.access_token}`;\n      const blogImageRes = await axios.post('http://indonews.live/api/upload', {\n        headers: {\n          \"Authorization\": `Bearer ${user.access_token}`\n        },\n        blog_image: this.state.blog_image,\n        blog_video: this.state.blog_video\n      });\n      console.log(blogImageRes);\n    };\n\n    this.addBlogHandler = async e => {\n      const {\n        title,\n        description,\n        language,\n        category,\n        blog_image,\n        blog_video,\n        blog_video_url,\n        blog_image_url\n      } = this.state; // const blogImageRes = await axios.post('http://indonews.live/api/upload', {\n      //     headers: { \"Authorization\": `Bearer ${user.access_token}` },\n      //     blog_image: blog_image,\n      //     blog_video: blog_video,\n      // });\n      // if (blogImageRes.status === 200) {\n      //     this.setState({ blog_image_url: blogImageRes.blog_image, blog_video_url: blogImageRes.blog_video })\n      //     console.log(blogImageRes);\n      // } else {\n      //     console.log(\"error\")\n      // }\n\n      try {\n        this.setState({\n          loading: true\n        });\n        axios.defaults.headers.common['Authorization'] = `Bearer ${user.access_token}`;\n        axios.post('http://indonews.live/api/create-blog', {\n          headers: {\n            \"Authorization\": `Bearer ${user.access_token}`\n          },\n          title: title,\n          contents: description,\n          language_id: language,\n          category_id: category\n        }).then(res => {\n          console.log(res);\n          this.setState({\n            loading: false\n          });\n        }).catch(err => {\n          console.log(err);\n          this.setState({\n            loading: false\n          });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.state = {\n      categoryApi: [],\n      languageApi: [],\n      category_id: '',\n      language_id: '',\n      title: '',\n      heading: '',\n      description: '',\n      category: '',\n      language: '',\n      blog_image: '',\n      blog_video: '',\n      blog_image_url: '',\n      blog_video_url: '',\n      loading: true,\n      error: true,\n      errorMessage: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('http://indonews.live/api/categories-languages', {\n      headers: {\n        \"Authorization\": `Bearer ${user.access_token}`\n      }\n    }).then(res => {\n      this.setState({\n        languageApi: res.data.Language\n      });\n      this.setState({\n        categoryApi: res.data.Category,\n        loading: false\n      });\n    }).catch(err => {\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(AppBody, {\n      loader: this.state.loading,\n      content: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: this.state.errorMessage.status ? /*#__PURE__*/_jsxDEV(FlashMessage, {\n                duration: 5090,\n                persistOnHover: true,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"alert alert-warning alert-dismissible fade show\",\n                  role: \"alert\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Holy guacamole!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 53\n                  }, this), \" You should check in on some of those fields below.\", /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    class: \"close\",\n                    \"data-dismiss\": \"alert\",\n                    \"aria-label\": \"Close\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      \"aria-hidden\": \"true\",\n                      children: \"\\xD7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 45\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-8 card mt-5 mb-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header bg-white text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Add Blog\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                  action: \"\",\n                  encType: \"\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"language\",\n                          children: \"Select language\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 142,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                          name: \"language\",\n                          id: \"language\",\n                          className: \"form-control\",\n                          onChange: e => {\n                            this.handleChange(e);\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: null,\n                            children: \"Select --\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 144,\n                            columnNumber: 61\n                          }, this), this.state.languageApi.map(lang => {\n                            return /*#__PURE__*/_jsxDEV(\"option\", {\n                              value: lang.id,\n                              children: lang.title\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 146,\n                              columnNumber: 72\n                            }, this);\n                          })]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 143,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 141,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"category\",\n                          children: \"Select Category\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 153,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                          name: \"category\",\n                          id: \"category\",\n                          className: \"form-control\",\n                          onChange: e => {\n                            this.handleChange(e);\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: null,\n                            children: \"Select --\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 155,\n                            columnNumber: 61\n                          }, this), this.state.categoryApi.map(cat => {\n                            return /*#__PURE__*/_jsxDEV(\"option\", {\n                              value: cat.id,\n                              children: cat.title\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 157,\n                              columnNumber: 72\n                            }, this);\n                          })]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 154,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"title\",\n                      children: \"Title\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      id: \"title\",\n                      name: \"title\",\n                      className: \"form-control\",\n                      onChange: e => {\n                        this.handleChange(e);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"description\",\n                      children: \"Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      name: \"description\",\n                      id: \"description\",\n                      cols: \"30\",\n                      rows: \"5\",\n                      className: \"form-control\",\n                      style: {\n                        resize: 'none'\n                      },\n                      onChange: e => {\n                        this.handleChange(e);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"file\",\n                        name: \"blog_image\",\n                        id: \"\",\n                        className: \"form-control\",\n                        onChange: e => {\n                          this.imageChangeHandler(e);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"\",\n                        alt: \"\",\n                        id: \"image\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 180,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-footer bg-white\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-info form-control\",\n                      type: \"button\",\n                      onClick: this.addBlogHandler,\n                      children: \"Publish\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"form-control btn btn-warning\",\n                  onClick: this.refresh,\n                  children: \"Refrsh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddBlog;","map":{"version":3,"sources":["/home/swapnil/reactproj/pro/src/container/app/blog/component/AddBlog.js"],"names":["React","Component","AppBody","Loader","FlashMessage","helper","axios","user","AddBlog","constructor","props","handleChange","e","setState","target","name","value","imageChangeHandler","files","console","log","state","blog_image","defaults","headers","common","access_token","blogImageRes","post","blog_video","addBlogHandler","title","description","language","category","blog_video_url","blog_image_url","loading","contents","language_id","category_id","then","res","catch","err","error","categoryApi","languageApi","heading","errorMessage","bind","componentDidMount","get","data","Language","Category","render","status","map","lang","id","cat","resize","refresh"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport AppBody from '../../../../components/AppBody';\nimport Loader from 'react-loader-spinner';\nimport FlashMessage from 'react-flash-message'\nimport helper from '../../../../utils/helper';\nimport axios from 'axios';\n\nconst user = helper.user();\n\nclass AddBlog extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            categoryApi: [],\n            languageApi: [],\n            category_id: '',\n            language_id: '',\n            title: '',\n            heading: '',\n            description: '',\n            category: '',\n            language: '',\n            blog_image: '',\n            blog_video: '',\n            blog_image_url: '',\n            blog_video_url: '',\n            loading: true,\n            error: true,\n            errorMessage:''\n        }\n        this.handleChange = this.handleChange.bind(this);\n\n    }\n\n    componentDidMount() {\n\n        axios.get('http://indonews.live/api/categories-languages', {\n            headers: { \"Authorization\": `Bearer ${user.access_token}` }\n        }).then(res => {\n            this.setState({ languageApi: res.data.Language })\n            this.setState({ categoryApi: res.data.Category, loading: false })\n\n        }).catch(err => {\n            this.setState({ loading: false })\n        });\n\n    }\n\n    handleChange = (e) => { this.setState({ [e.target.name]: e.target.value }) }\n\n    imageChangeHandler = async (e) => {\n        this.setState({ [e.target.name]: e.target.files[0] })\n        console.log(this.state.blog_image)\n        axios.defaults.headers.common['Authorization'] = `Bearer ${user.access_token}`;\n        const blogImageRes = await axios.post('http://indonews.live/api/upload', {\n            headers: { \"Authorization\": `Bearer ${user.access_token}` },\n            blog_image: this.state.blog_image,\n            blog_video: this.state.blog_video,\n\n        });\n        console.log(blogImageRes)\n    }\n\n    addBlogHandler = async (e) => {\n        const { title, description, language, category, blog_image, blog_video, blog_video_url, blog_image_url } = this.state;\n\n\n        // const blogImageRes = await axios.post('http://indonews.live/api/upload', {\n        //     headers: { \"Authorization\": `Bearer ${user.access_token}` },\n        //     blog_image: blog_image,\n        //     blog_video: blog_video,\n\n        // });\n        // if (blogImageRes.status === 200) {\n        //     this.setState({ blog_image_url: blogImageRes.blog_image, blog_video_url: blogImageRes.blog_video })\n        //     console.log(blogImageRes);\n        // } else {\n        //     console.log(\"error\")\n        // }\n\n        try {\n            this.setState({ loading: true })\n            axios.defaults.headers.common['Authorization'] = `Bearer ${user.access_token}`;\n            axios.post('http://indonews.live/api/create-blog', {\n                headers: { \"Authorization\": `Bearer ${user.access_token}` },\n                title: title,\n                contents: description,\n                language_id: language,\n                category_id: category,\n            }).then(res => {\n                console.log(res)\n                this.setState({ loading: false })\n            }).catch(err => {\n                console.log(err)\n                this.setState({ loading: false })\n            })\n        } catch (error) {\n            console.log(error)\n        }\n\n    }\n\n    render() {\n\n        return (\n            <AppBody\n                loader={this.state.loading}\n                content={\n                    <>\n\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-2\"></div>\n                                <div className=\"col-6\">\n                                    {\n                                        this.state.errorMessage.status ?\n                                            <FlashMessage duration={5090} persistOnHover={true}>\n                                                <div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\n                                                    <strong>Holy guacamole!</strong> You should check in on some of those fields below.\n                                    <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                                                        <span aria-hidden=\"true\">&times;</span>\n                                                    </button>\n                                                </div>\n                                            </FlashMessage>\n                                            :\n                                            null\n                                    }\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-md-2\"></div>\n                                <div className=\"col-md-8 card mt-5 mb-5\">\n                                    <div className=\"card-header bg-white text-center\">\n                                        <h2><strong>Add Blog</strong></h2>\n                                    </div>\n                                    <div className=\"card-body\">\n                                        <form action=\"\" encType=\"\">\n                                            <div className=\"row\">\n                                                <div className=\"col\">\n                                                    <div className=\"form-group\">\n                                                        <label htmlFor=\"language\">Select language</label>\n                                                        <select name=\"language\" id=\"language\" className=\"form-control\" onChange={e => { this.handleChange(e) }}>\n                                                            <option value={null}>Select --</option>\n                                                            {this.state.languageApi.map(lang => {\n                                                                return <option value={lang.id}>{lang.title}</option>\n                                                            })}\n                                                        </select>\n                                                    </div>\n                                                </div>\n                                                <div className=\"col\">\n                                                    <div className=\"form-group\">\n                                                        <label htmlFor=\"category\">Select Category</label>\n                                                        <select name=\"category\" id=\"category\" className=\"form-control\" onChange={e => { this.handleChange(e) }}>\n                                                            <option value={null}>Select --</option>\n                                                            {this.state.categoryApi.map(cat => {\n                                                                return <option value={cat.id}>{cat.title}</option>\n                                                            })}\n                                                        </select>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div className=\"form-group\">\n                                                <label htmlFor=\"title\">Title</label>\n                                                <input type=\"text\" id=\"title\" name=\"title\" className=\"form-control\" onChange={e => { this.handleChange(e) }} />\n                                            </div>\n                                            <div className=\"form-group\">\n                                                <label htmlFor=\"description\">Description</label>\n                                                <textarea name=\"description\" id=\"description\" cols=\"30\" rows=\"5\" className=\"form-control\" style={{ resize: 'none' }} onChange={e => { this.handleChange(e) }}></textarea>\n                                            </div>\n\n                                            <div className=\"row\">\n                                                <div className=\"form-group\">\n                                                    <input type=\"file\" name=\"blog_image\" id=\"\" className=\"form-control\" onChange={e => { this.imageChangeHandler(e) }} />\n                                                </div>\n                                            </div>\n                                            <div className=\"row\">\n                                                <div className=\"col-12\">\n                                                    <img src=\"\" alt=\"\" id=\"image\" />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"card-footer bg-white\">\n                                                <button className=\"btn btn-info form-control\" type=\"button\" onClick={this.addBlogHandler}>Publish</button>\n                                            </div>\n                                        </form>\n                                        <button className=\"form-control btn btn-warning\" onClick={this.refresh}>Refrsh</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </>\n                }\n\n            />\n        )\n    }\n}\n\nexport default AddBlog;"]},"metadata":{},"sourceType":"module"}