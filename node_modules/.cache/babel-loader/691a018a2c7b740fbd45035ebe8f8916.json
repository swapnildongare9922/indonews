{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/swapnil/reactproj/pro/src/container/app/preferences/pages/UserPreferencePage.js\";\nimport React, { Component } from 'react';\nimport helper from '../../../../utils/helper';\nimport axios from \"axios\";\nimport { withRouter } from 'react-router';\nimport AppBody from '../../../../components/AppBody';\nconst user = helper.user();\n\nclass UserPreferencePage extends Component {\n  constructor(props) {\n    super();\n\n    this.handleLangugeClick = index => {\n      const {\n        languages,\n        langId\n      } = this.state;\n      let result = [...languages];\n\n      if (result[index].is_select === false) {\n        this.setState(prevState => ({\n          langId: [...prevState.langId, result[index].id]\n        }));\n      } else {\n        let newId = langId.filter(x => x !== result[index].id);\n        this.setState({\n          langId: newId\n        });\n      }\n\n      result[index] = {\n        id: result[index].id,\n        title: result[index].title,\n        is_select: result[index].is_select === true ? false : true\n      };\n      this.setState({\n        languages: result\n      });\n    };\n\n    this.handleCategoryClick = index => {\n      const {\n        categories,\n        catId\n      } = this.state;\n      let result = [...categories];\n\n      if (result[index].is_select === false) {\n        this.setState(prevState => ({\n          catId: [...prevState.catId, result[index].id]\n        }));\n      } else {\n        let newId = catId.filter(x => x !== result[index].id);\n        this.setState({\n          catId: newId\n        });\n      }\n\n      result[index] = {\n        id: result[index].id,\n        title: result[index].title,\n        is_select: result[index].is_select === true ? false : true\n      };\n      this.setState({\n        categories: result\n      });\n    };\n\n    this.handleSubmit = () => {\n      const {\n        langId,\n        catId\n      } = this.state;\n      axios.post('http://indonews.live/api/update-preferences', {\n        headers: {\n          \"Authorization\": `Bearer ${user.access_token}`\n        },\n        language_id: langId,\n        category_id: catId\n      }).then(res => {\n        if (res) {\n          console.log(res.data);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      languages: [],\n      categories: [],\n      langId: [],\n      catId: []\n    };\n    this.handleLangugeClick = this.handleLangugeClick.bind(this);\n    this.handleCategoryClick = this.handleCategoryClick.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('http://indonews.live/api/categories-languages', {\n      headers: {\n        \"Authorization\": `Bearer ${user.access_token}`\n      }\n    }).then(res => {\n      const language = res.data.Language;\n      const categories = res.data.Category;\n      this.setState({\n        languages: res.data.Language,\n        categories: res.data.Category\n      });\n      language.filter(a => a.is_select === true ? this.setState(prevState => ({\n        langId: [...prevState.langId, a.id]\n      })) : '');\n      categories.filter(a => a.is_select === true ? this.setState(prevState => ({\n        catId: [...prevState.catId, a.id]\n      })) : '');\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    const {\n      languages,\n      categories\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(AppBody, {\n      content: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"languge\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Select Prefered Language.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row text-fluid\",\n                    children: languages && languages.map((li, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-2\",\n                      onClick: () => this.handleLangugeClick(index),\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: li.is_select === true ? 'card-title pre-color' : 'black-color card-title',\n                        style: {\n                          minWidth: '160px',\n                          mimHeight: \"63px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"lag-setup-card\",\n                          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                            children: li.title\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 107,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 106,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 53\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 49\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Select Prefered Category.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row text-fluid\",\n                    children: categories && categories.map((li, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-2\",\n                      onClick: () => this.handleCategoryClick(index),\n                      style: {\n                        width: \"auto\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: li.is_select === true ? 'card-title pre-color' : 'black-color card-title',\n                        style: {\n                          minWidth: '160px',\n                          mimHeight: \"63px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-body  lag-setup-card\",\n                          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                            children: li.title\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 133,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 132,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 131,\n                        columnNumber: 53\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 49\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-info form-control\",\n          type: \"button\",\n          onClick: this.handleSubmit,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(UserPreferencePage);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/swapnil/reactproj/pro/src/container/app/preferences/pages/UserPreferencePage.js"],"names":["React","Component","helper","axios","withRouter","AppBody","user","UserPreferencePage","constructor","props","handleLangugeClick","index","languages","langId","state","result","is_select","setState","prevState","id","newId","filter","x","title","handleCategoryClick","categories","catId","handleSubmit","post","headers","access_token","language_id","category_id","then","res","console","log","data","catch","err","bind","componentDidMount","get","language","Language","Category","a","render","map","li","minWidth","mimHeight","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport helper from '../../../../utils/helper';\r\nimport axios from \"axios\";\r\nimport { withRouter } from 'react-router';\r\nimport AppBody from '../../../../components/AppBody';\r\nconst user = helper.user();\r\n\r\nclass UserPreferencePage extends Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            languages: [],\r\n            categories: [],\r\n            langId: [],\r\n            catId: [],\r\n        }\r\n        this.handleLangugeClick = this.handleLangugeClick.bind(this);\r\n        this.handleCategoryClick = this.handleCategoryClick.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        axios.get('http://indonews.live/api/categories-languages', {\r\n            headers: { \"Authorization\": `Bearer ${user.access_token}` }\r\n        }).then(res => {\r\n            const language = res.data.Language;\r\n            const categories = res.data.Category;\r\n            this.setState({ languages: res.data.Language, categories: res.data.Category });\r\n            language.filter(a => a.is_select === true ? this.setState(prevState => ({ langId: [...prevState.langId, a.id] })) : '');\r\n            categories.filter(a => a.is_select === true ? this.setState(prevState => ({ catId: [...prevState.catId, a.id] })) : '');\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    handleLangugeClick = (index) => {\r\n        const { languages, langId } = this.state\r\n        let result = [...languages];\r\n        if (result[index].is_select === false) {\r\n            this.setState(prevState => ({\r\n                langId: [...prevState.langId, result[index].id]\r\n            }))\r\n        } else {\r\n            let newId = langId.filter(x => x !== result[index].id);\r\n            this.setState({ langId: newId });\r\n        }\r\n        result[index] = {\r\n            id: result[index].id,\r\n            title: result[index].title,\r\n            is_select: result[index].is_select === true ? false : true,\r\n        }\r\n        this.setState({ languages: result });\r\n    };\r\n\r\n    handleCategoryClick = (index) => {\r\n        const { categories, catId } = this.state\r\n        let result = [...categories];\r\n        if (result[index].is_select === false) {\r\n            this.setState(prevState => ({\r\n                catId: [...prevState.catId, result[index].id]\r\n            }))\r\n        } else {\r\n            let newId = catId.filter(x => x !== result[index].id);\r\n            this.setState({ catId: newId });\r\n        }\r\n        result[index] = {\r\n            id: result[index].id,\r\n            title: result[index].title,\r\n            is_select: result[index].is_select === true ? false : true,\r\n        }\r\n        this.setState({ categories: result });\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        const { langId, catId } = this.state\r\n        axios.post('http://indonews.live/api/update-preferences', {\r\n            headers: { \"Authorization\": `Bearer ${user.access_token}` },\r\n            language_id: langId,\r\n            category_id: catId\r\n        }).then(res => {\r\n            if (res) {\r\n                console.log(res.data);\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n    render() {\r\n        const { languages, categories } = this.state;\r\n        return (\r\n            <AppBody content={\r\n                <>\r\n                    <div className=\"languge\">\r\n                        <div className=\"container mt-5\">\r\n                            <div className=\"row\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-header\">\r\n                                        <h2>Select Prefered Language.</h2>\r\n                                    </div>\r\n                                    <div className=\"card-body\">\r\n                                        <div className=\"row text-fluid\">\r\n                                            {languages && languages.map((li, index) =>\r\n                                                <div className=\"col-2\" key={index}\r\n                                                    onClick={() => this.handleLangugeClick(index)}\r\n                                                >\r\n                                                    <div className={li.is_select === true ? 'card-title pre-color' : 'black-color card-title'} style={{ minWidth: '160px', mimHeight: \"63px\" }}>\r\n                                                        <div className=\"lag-setup-card\">\r\n                                                            <h5  >{li.title}</h5>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"category\">\r\n                        <div className=\"container mt-5\">\r\n                            <div className=\"row\">\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-header\">\r\n                                        <h2>Select Prefered Category.</h2>\r\n                                    </div>\r\n                                    <div className=\"card-body\">\r\n                                        <div className=\"row text-fluid\">\r\n                                            {categories && categories.map((li, index) =>\r\n                                                <div className=\"col-2\"  key={index}\r\n                                                    onClick={() => this.handleCategoryClick(index)}\r\n                                                    style={{ width: \"auto\" }}>\r\n                                                    <div className={li.is_select === true ? 'card-title pre-color' : 'black-color card-title'}  style={{ minWidth: '160px', mimHeight: \"63px\" }}>\r\n                                                        <div className=\"card-body  lag-setup-card\">\r\n                                                            <h5>{li.title}</h5>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        className=\"btn btn-info form-control\"\r\n                        type=\"button\"\r\n                        onClick={this.handleSubmit}\r\n                    >\r\n                        Submit\r\n                    </button>\r\n                </>\r\n            } />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(UserPreferencePage);"]},"metadata":{},"sourceType":"module"}