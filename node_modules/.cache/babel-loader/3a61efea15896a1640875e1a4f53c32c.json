{"ast":null,"code":"import helper from\"./helper\";import axios from\"axios\";function init(user){if(!user){user=helper.user();}if(user){apiUtils.setHeaderAuthToken(user.token);}}axios.interceptors.response.use(function(response){return response;},function(error){// if (error.response.status === 401) {\n//      console.log(\"call the functi\");\n//   //  helper.logout();\n// }\nreturn Promise.reject(error);});function instance(){return axios;}export var apiUtils={setHeaderAuthToken:function setHeaderAuthToken(token){return axios.defaults.headers.common['Authorization']=\"Bearer \".concat(token);},removeHeaderAuthToken:function removeHeaderAuthToken(){return axios.defaults.headers.common[\"Authorization\"]=undefined;}};var api={instance:instance,init:init};export default api;","map":{"version":3,"sources":["/home/swapnil/reactproj/pro/src/utils/api.js"],"names":["helper","axios","init","user","apiUtils","setHeaderAuthToken","token","interceptors","response","use","error","Promise","reject","instance","defaults","headers","common","removeHeaderAuthToken","undefined","api"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,IAAT,CAAcC,IAAd,CAAoB,CAChB,GAAI,CAACA,IAAL,CAAW,CACPA,IAAI,CAAGH,MAAM,CAACG,IAAP,EAAP,CACH,CACD,GAAIA,IAAJ,CAAU,CACNC,QAAQ,CAACC,kBAAT,CAA4BF,IAAI,CAACG,KAAjC,EACH,CACJ,CAEDL,KAAK,CAACM,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACI,SAAAD,QAAQ,CAAI,CACR,MAAOA,CAAAA,QAAP,CACH,CAHL,CAII,SAACE,KAAD,CAAW,CACP;AACA;AACA;AACA;AACA,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CACH,CAVL,EAaA,QAASG,CAAAA,QAAT,EAAoB,CAChB,MAAOZ,CAAAA,KAAP,CACH,CAED,MAAO,IAAMG,CAAAA,QAAQ,CAAG,CACpBC,kBAAkB,CAAE,4BAAAC,KAAK,QAAIL,CAAAA,KAAK,CAACa,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,mBAA2DV,KAA3D,CAAJ,EADL,CAEpBW,qBAAqB,CAAE,uCAAMhB,CAAAA,KAAK,CAACa,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,EAAiDE,SAAvD,EAFH,CAAjB,CAKP,GAAMC,CAAAA,GAAG,CAAG,CACRN,QAAQ,CAARA,QADQ,CAERX,IAAI,CAAJA,IAFQ,CAAZ,CAIA,cAAeiB,CAAAA,GAAf","sourcesContent":["import helper from \"./helper\";\r\nimport axios from \"axios\";\r\n\r\nfunction init(user) {\r\n    if (!user) {\r\n        user = helper.user();\r\n    }\r\n    if (user) {\r\n        apiUtils.setHeaderAuthToken(user.token);\r\n    }\r\n}\r\n\r\naxios.interceptors.response.use(\r\n    response => {\r\n        return response;\r\n    },\r\n    (error) => {\r\n        // if (error.response.status === 401) {\r\n        //      console.log(\"call the functi\");\r\n        //   //  helper.logout();\r\n        // }\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nfunction instance() {\r\n    return axios;\r\n}\r\n\r\nexport const apiUtils = {\r\n    setHeaderAuthToken: token => axios.defaults.headers.common['Authorization'] = `Bearer ${token}`,\r\n    removeHeaderAuthToken: () => axios.defaults.headers.common[\"Authorization\"] = undefined\r\n};\r\n\r\nconst api = {\r\n    instance,\r\n    init\r\n};\r\nexport default api;\r\n"]},"metadata":{},"sourceType":"module"}